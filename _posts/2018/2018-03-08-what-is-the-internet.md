---
layout: "post"
title: "What is the internet?"
date: "2018-03-08 08:20"
category: Network
---

> 이 글은 학교 공부를 예복습 할겸 정리하는 글입니다. 글의 원문은 **Kurose & Ross의 Computer Networking**을 참고하였습니다.

# Chapter 1
>**컴퓨터 네트워크와 인터넷**

오늘날의 인터넷은 인류가 만든 거의 틀림없이 가장 큰 공학적 시스템일 것이다. 수억대의 연결된 컴퓨터, 통신 연결 그리고 스위치들과; 랩탑, 태블릿, 그리고 스마트폰을 통한 수십억명의 유저들; 그리고 게임 콘솔, 감시 시스템, 시계, 안경, 온도계, 체중계 자동차등을 포함하는 인터넷에 연결된 이 많은 것들이 바로 그 증거이다. 인터넷이 매우 크고 또 매우 다양한 요소들을 가지고 사용하고 있다면, 이게 어떻게 작동하는 지 이해는 할 수 있을까? 매우 크거나 복잡한 시스템 같은 것들을 이해하기 위한 기초를 제공할 수 있는 교육 원리나 구조같은게 있을까? 그리고 만약 그렇다면, 그것이 컴퓨터 네트워크에 대해 공부하는 것을 흥미롭고 재밌게 할 수 있을까? 운 좋게도, 이 모든 질문에 대한 답은 완전 YES이다. 사실 이 책의 목적은 컴퓨터 네트워크라는 역동적인 분야에 대한 현대적인 입문을 제공해주는것이며 오늘날의 네트워크 뿐만 아니라 미래의 네트워크까지 이해하기 위해 필요한 원리들과 실무적 이해까지 제공해주는 것이다.

이 첫번째 챕터는 컴퓨터 네트워크와 인터넷의 광범위한 개요를 보여준다. 여기서는 큰 그림을 그리고 이 책의 나머지 부분을 정해서 나무를 통해 숲을 보는게 목표이다. 이 도입 챕터에서 많은 기초들을 다룰 것이고 컴퓨터 네트워크의 많은 부분들에 대해 얘기할 것이다.

이 챕터 다음에 컴퓨터 네트워크의 개요를 구조화 할 것이다. 기본적인 용어들과 컨셉에 대한 설명 후에, 먼저 네트워크를 구성하는 기본적인 하드웨어와 소프트웨어 요소들을 살펴볼 것이다. 네트워크 주변부터 시작해서 네트워크에서 돌아가는 종단 시스템과 네트워크 애플리케이션들을 볼 것이다. 그리고 나서 컴퓨터 네트워크 코어를 분석하고 데이터를 전송하는 연결들과 스위치, 거기에 더해 엑세스 네트워크와 종단 시스템에서 네트워크 코어까지 연결된 물리적 매개체들을 자세히 살펴볼 것이다. 인터넷은 네트워크의 네트워크라는 것을 배우게 되고 이것들이 서로 어떻게 연결된 네트워크인지 배우게 된다. 

컴퓨터 네트워크의 주변부와 코어에 대한 이 개요를 다 마치고 나면 이 장의 나머지 절반에서 더 광범위하고 추상적인 관점을 가지게 될 것이다. 컴퓨터 네트워크의 데이터 지연, 손실 그리고 처리량들을 살펴보고 종단간 처리량과 지연을 나타내는 간단한 양적 모델&mdash;전송, 전파 그리고 큐 지연을 고려한 모델&mdash;을 제공할 것이다. 그 다음, 컴퓨터 네트워크의 몇가지 핵심 구조 원리 즉 프로토콜 계층과 서비스 모델들을 소개할 것이다. 또한 컴퓨터 네트워크는 많은 유형의 공격에 취약하다는 것을 배우게 될 것이다. 이런 몇가지 공격들을 살펴보고 어떻게 하면 컴퓨터 네트워크를 좀 더 안전하게 만들 수 있는지도 고려해 볼 것이다. 마지막으로 컴퓨터 네트워크의 간략한 역사와 함께 이 장을 마칠 것이다.

## 인터넷이란?

이 책에서는 컴퓨터 네트워크와 프로토콜에 대해 얘기하는 주요한 매개체로써 특정한 컴퓨터 네트워크인 퍼블릭 인터넷을 사용할 것이다. 근데 인터넷이란게 _뭘까?_ 이 질문에 대한 답은 두가지가 있다. 먼저 인터넷을 구성하는 기본적인 하드웨어 및 소프트웨어 요소들 같은 인터넷의 요점들을 묘사하는 것이다. 두번째는 분산된 애플리케이션들에 서비스를 제공하는 네트워크 인프라 관점에서 인터넷을 묘사하는 것이다. 먼저 요점 묘사부터 시작해보자.

### 요점 묘사

인터넷은 전세계 컴퓨터 장치들의 수십억 상호 연결로 이루어진 컴퓨터 네트워크이다. 얼마전까지만 해도, 이러한 컴퓨터 장치들이란 주로 전통적인 데스크탑 PC, 리눅스 워크스테이션, 그리고 웹페이지와 이메일 메세지 같은 정보들을 송수신하는 이른바 서버들이었다. 그러나 점점 더 비전통적인 인터넷 _사물_ 예를 들면 랩탑, 스마트폰, 태플릿, TV, 게이밍 콘솔, 온도계, 가내 보안 시스템, 가전 기기, 시계, 안결, 자동차, 교통 제어 시스템 그리고 더 많은 것들이 인터넷에 연결되고 있다. 사실 많은 비전통적인 장치들이 인터넷에 연결되고 있다는걸 고려할 때  _컴퓨터 네트워크_ 라는 용어는 좀 낡았다는 소리를 받기 시작하는 중이다. 소위 인터넷 용어로는, 이 모든 장치들을 **호스트** 또는 **종단 시스템** 이라 부른다. 추산해봤을 때 2015년에는 50억대의 장치가 인터넷에 연결 되었고 2020년에는 250억대에 도달할 것이라고 가트너는 예측했다. ITU는 2015년에는 전체 인구의 약 40% 가량인 32억명의 인터넷 유저가 있다고 추산하였다. 

종단 시스템들은 **통신 회선** 과 **패킷 스위치** 들을 통해 서로 연결되어 있다. 우리는 1.2절에서 동축 케이블, 구리선, 광섬유 그리고 전파 스펙트럼을 포함하는 다양한 유형의 물리적 매개체들로 구성된 통신 회선의 많은 유형들을 볼 것이다. 서로 다른 회선은 서로 다른 속도로 데이터를 전송할 수 있다.&mdash;**전송 속도** 라는 초당 비트수로 측정된 방식으로&mdash; 한 종단 시스템이 다른 종단 시스템으로 데이터를 보낼게 있을 때 송신하는 측은 데이터를 작게 분할하고 각 부분 앞에 헤더 바이트들을 추가한다. 이렇게 컴퓨터 네트워크 용어로 **패킷** 이라 알려진 가공된 정보는 이후에 네트워크를 거쳐 목적지 종단 시스템까지 전송된 후 원본 데이터로 재조립된다.

패킷 스위치는 들어오는 통신 회선중 하나로 도착한 패킷을 받고 나가는 통신회선 중 하나로 그 패킷을 전송한다. 패킷 스위치는 수많은 모양과 특징들이 있지만, 현대 인터넷의 두가지 중요한 유형은 **라우터** 와 **링크-레이어 스위치** 이다. 두 유형의 스위치는 패킷의 최종 목적지로 향하는 곳으로 패킷을 전송한다. 링크-레이어 스위치는 일반적으로 엑세스 네트워크에서 사용되는 반면, 라우터는 일반적으로 네트워크 코어에서 사용된다. 송신측 종단 시스템과 수신측 종단 시스템까지 전송되는 패킷이 거치는 통신 회선과 패킷 스위치들의 연결은 **route** 또는 네트워크의 **path** 라고 알려져 있다. Cisco는 연간 전세계 IP 트래픽이 2016년 말에는 Zettabyte(10<sup>21</sup> bytes) 문턱을 넘고 2019년에는 2 Zettabyte에 도달할 것이라 예측했다.

패킷 스위치 네트워크(패킷을 수송하는)는 여러모로 고속도로, 길 그리고 교차로(탈것을 수송하는)의 수송망과 유사하다. 예를 들면, 수천 킬로미터 떨어진 곳에 위치한 창고에 많은 양의 화물을 옮겨야하는 공장을 생각해보자, 그 화물은 작게 분할되어 트럭들에 적재된다. 각 트럭들은 목적지 창고까지 고속도로, 길 그리고 교차로들의 망을 거치며 여행 한다. 목적지 창고에서, 화물에서 짐을 내리고 같은 곳에서 도착한 나머지 화물들과 합쳐지게 된다. 따라서 여러모로 패킷은 트럭과 유사하고, 통신 회선은 고속도로랑 길과 유사하며 패킷 스위치는 교차로와 유사하고 종단 시스템은 건물과 유사하다. 트럭이 수송망을 따라 이동 하듯이, 패킷은 컴퓨터 네트워크를 따라 이동한다.

종단 시스템은 지방 케이블 또는 전화 회사; 기업 ISP; 대학 ISP; 공항, 호텔, 커피 가게 그리고 다른 공공장소에서 WiFi를 제공하는 ISP; 스마트폰과 다른 장치들에게 모바일 접근을 제공하는 셀룰러 데이터 ISP 같은 residential ISP들을 포함하는 **Internet Service Providers(ISP)** 를 통해 인터넷에 접근한다. 각 ISP는 본질적으로 패킷 스위치와 통신 회선의 네트워크이다. ISP는 종단 시스템에 케이블 모뎀 또는 DSL과 같은 residential 광대역 접근, 고속 근거리 통신망 접근 그리고 모바일 무선 접근을 포함하여 다양한 유형의 네트워크 접근을 제공한다. ISP는 또한 웹 사이트들과 비디오 서버들을 인터넷에 직접적으로 연결하는 content provider들에게 인터넷 접근을 제공한다. 인터넷이란 종단 시스템끼리 연결된 것에 대한 모든 것이다. 따라서 종단 시스템에 접근을 제공하는 ISP들도 또한 반드시 서로 연결되어 있어야 한다. 이러한 하위 계층 ISP들은 전국적이고 국제적인 Level 3 Communication, AT&T, Sprint 그리고 NTT와 같은 상위 계층 ISP를 통해 서로 연결 되어 있다. 상위 계층 ISP는 고속 광섬유 회선으로 상호연결된 고속 라우터들로 구성되어 있다. 각 ISP 네트워크는 상위든 하위든 독립적으로 관리되며 IP 프로토콜을 사용하고(아래를 참고), 특정한 명명 및 주소 규약을 따르고 있다. 1.3절에서 ISP와 그것들의 교차점을 더욱 자세하게 살펴볼 것이다.

종단 시스템, 패킷 스위치, 그리고 다른 인터넷의 부분들은 인터넷에서 송수신되는 정보들을 제어하는 **프로토콜** 을 사용한다. **Transmission Control Protocol(TCP)** 그리고 **Internet Protocol(IP)** 들은 인터넷에서 가장 중요한 두 프로토콜들이다. IP 프로토콜은 라우터와 종단 시스템간 송수신되는 패킷들의 형식을 명시한다. 인터넷의 주요 프로토콜들은 총괄하여 **TCP/IP**라고 알려져 있다. 이제 이 도입부의 프로토콜들을 살펴볼 것이다. 하지만 그저 시작일뿐이다.&mdash; 이 책의 많은 부분은 컴퓨터 네트워크 프로토콜들과 관계가 있다!

인터넷에게 프로토콜의 중요성을 고려해볼 때, 모든 사람이 모든 프로토콜이 각각 무엇인지, 무엇을 하는지 동의함으로써 사람들이 상호운용 하는 시스템 및 제품을 만들 수 있게끔 하는것은 중요하다. ~~솔직히 나도 번역하고나서도 말이 매끄럽지 않다는걸 느끼고 있다.~~  이 부분이 바로 `표준`이 활약할 때이다. **인터넷 표준(Internet Standards)** 은 Internet Engineering Task Force(IETF)라는 곳에서 개발되어진다. IETF 표준 문서들은 **requests for comments(RFCs)**라고 불린다. RFC는 인터넷에 선구자들에게 직면한 네트워크와 프로토콜 설계 문제들을 해결하기 위한 의견들의 일반적인 요청으로 시작되었다. RFC는 꽤나 기술적이고 정교한 경향이 있다. 그들은 TCP, IP, HTTP(웹을 위한) 그리고 SMTP(이메일을 위한)과 같은 프로토콜들을 정의했다. 현재 7000개가 넘는 RFC가 존재한다. 다른 조직들 또한 네트워크 구성 요소를 위한 표준을 명시하는데 무엇보다도 특히 네트워크 회선이 그렇다. IEEE 802 LAN/MAN 표준 위원회를 예로 들면, 이더넷과 무선 WiFi 표준을 명시했다.

### 서비스 묘사

윗 절에선 인터넷을 구성하고 있는 많은 부분들을 식별하였다. 하지만 완전히 다른 관점에서 인터넷을 묘사할 수도 있다.&mdash; 즉 _애플리케이션에 서비스를 제공하는 인프라로써_. 이메일과 웹 서핑과 같은 전통적인 애플리케이션에 더하여 인터넷 애플리케이션은 인터넷 메세지, 실시간 교통량 정보를 활용한 길안내, 클라우드 음악 스트리밍, 영화 및 TV 스트리밍, 온라인 소셜 네트워크, 비디오 컨퍼런스, 다인용 게임, 그리고 위치 기반 추천시스템을 포함하는 모바일 스마트폰과 태블릿 애플리케이션을 포함한다. 이러한 애플리케이션들은 각각 서로 게이터를 교환하는 다수의 종단 시스템과 관련 있다 해서 **분산-애플리케이션** 들이라 불린다. 중요한 점은 인터넷 애플리케이션이 종단 시스템에서 사용된다는 점이다.&mdash; 네트워크 코어의 패킷 스위치에서 사용되는게 아니다. 비록 패킷 스위치가 종단 시스템간 데이터 교환을 용이하게 해주지만, 그것들은 데이터의 원천 또는 sink인 애플리케이션과는 관련이 없다.~~sink of data를 데이터 소굴로 번역하려다 자신이 없어서 말았습니다..~~

애플리케이션들에 서비스를 제공하는 인프라로 우리가 무엇을 의미 하려는지 좀 더 살펴보자. 이를 위해, 자기가 인류에게 큰 이익을 가져다 주거나 돈과 명예를 가져다주는 분산 인터넷 애플리케이션을 위한 새롭고 흥미진진한 생각을 갖고 있다고 가정하자. 이 아이디어를 어떻게 하면 실제 인터넷 애플리케이션으로 바꿀 수 있을까? 애플리케이션은 종단 시스템에서 사용되므로 종단 시스템에서 돌아갈 프로그램을 작성할 필요가 있을 것이다. 예를 들면 Java, C, 또는 파이썬으로 짤 것이다. 현재, 분산 인터넷 애플리케이션을 개발하는 중이기 때문에, 다른 종단 시스템에서 구동되는 프로그램들은 서로에게 데이터를 전송할 필요가 있게 된다. 그리고 여기 중요한 문제가 있다 &mdash; 인터넷을 애플리케이션을 위한 플랫폼으로써 묘사하는 다른 방법을 유도하는 것이다. 어떻게 한 종단 시스템에서 구동되는 프로그램이 인터넷을 통해 다른 종단 시스템의 프로그램에 데이터를 전송하는걸까? 

인터넷에 접속된 종단 시스템들은 **소켓 인터페이스** 라는 한 종단 시스템에서 다른 종단 시스템의 목적지 프로그램까지 데이터를 어떻게 전송하기 위해 인터넷 인프라에 요청할 지 명시해주는 것을 제공한다. 이 인터넷 소켓 인터페이스는 인터넷을 통해 목적지 프로그램까지 데이터를 전송하기 위해 송신 프로그램이 반드시 지켜야 하는 규칙들의 집합이다. 인터넷 소켓 인터페이스에 대해 자세히 얘기해보는 건 2장에서 할 것이다. 우선은 앞으로 이 책에서 자주 사용할 간단한 유사점을 이용해보자. Alice가 Bob에게 우편 서비스를 이용해 편지를 보내려 한다 가정하자. 물론 Alice는 그냥 편지(데이터)를 쓰고 창문 밖으로 던질 순 없다. 대신 우편 서비스는 Alice로 하여금 편지를 우편봉투에 넣고; 우편봉투를 봉하고; 봉투 우측 상단에 도장을 찍고; 마지막으로 우편함에 우편봉투를 넣도록 요구한다. 따라서 우편 서비스는 Alice가 우편 서비스를 통해 Bob에게 편지를 전달하기 위해서 반드시 따라야 하는 그 자체의 "우편 서비스 인터페이스" 또는 규칙의 집합을 가지고 있다. 유사한 방법으로 인터넷은 프로그램이 인터넷을 통해 다른 프로그램으로 데이터를 전송하기 위해 반드시 따라야하는 소켓 인터페이스

물론 우편서비스는 사용자들에게 하나 이상의 서비스를 제공한다. 신속 배달, 수신 확인, 일일 배송, 그리고 더 많은 서비스를 제공한다. 이와 유사하게 인터넷은 애플리케이션들에게 여러 서비스들을 제공한다. 인터넷 애플리케이션을 개발할 때, 애플리케이션을 위한 인터넷 서비스 중 하나를 반드시 선택해야 한다. 인터넷 서비스들에 대해서는 2장에서 살펴볼 것이다.

방금 인터넷에 대한 두 설명을; 하나는 하드웨어와 소프트웨어 구성요소 관점에서, 다른 하나는 분산 애플리케이션에 서비스를 제공하는 인프라로써 보았다. 하지만 아마 여전히 인터넷에 대해서는 혼란스러울 수 있다. 패킷 스위칭이랑 TCP/IP는 뭘까? 라우터는? 인터넷에 존재하는 통신 회선의 종류는? 분산 애플리케이션은 뭐지? 어떻게 온도계나 체중계가 인터넷에 연결될 수 있는걸까? 이런 질문들에 압도되는 기분이라면 걱정하지 마라&mdash;이 책의 목적은 인터넷의 요점과 그것이 어떻게 작동하는지에 대한 원리를 소개하는 것이니까
. 다음 절과 장에서 이 중요한 용어와 질문들에 대해 설명할 것이다.

### 프로토콜이란?

이왕 인터넷이 무엇인지 조금 알게된 거, 컴퓨터 네트워크의 또다른 중요한 유행어인 _프로토콜_ 을 알아보자. 프로토콜이란? 프로토콜은 무엇을 하는걸까?

#### 사람으로 비유하기

컴퓨터 네트워크 프로토콜의 개념을 이해하기엔 사람으로 비유하는게 가장 쉬울지도 모르겠다. 왜냐하면 우리 사람들은 늘 프로토콜을 사용하기 때문이다. 누군가에게 시간을 물어보는걸 생각해보자. 평범한 대화는 다음과 같을 것이다.
> A : 안녕
> 
> B : 안녕
> 
> A : 지금 시간은?
> 
> B : 2:00

인간 프로토콜(또는 최소한 좋은 예절)은 다른 누군가와 대화를 시작하도록 인사(처음의 `안녕`)을 제공하도록 만든다. `안녕`에 대한 일반적인 반을은 `안녕` 메세지를 반환하는 것이다. 암묵적으로, 다음 사람은 친절한 `안녕` 메세지를 통해 시간을 물어볼 수 있음을 알 수 있다. 처음 `안녕`에 대한 다른 응답(`귀찮게 마!` 또는 `저 영어할 줄 몰라요` 또는 차마 쓰기 어려운 응답같은..)은 대화를 하기 싫다거나 할 수 없다는걸 나타낼지도 모른다. 이 경우엔, 이 인간 프로토콜은 시간을 물어보지 않을 것이다. 가끔씩 질문에 응답을 하나도 하지 않아서 시간 물어보는걸 포기하는 경우도 있을 것이다. 우리 인간 프로토콜에선 우리가 보내는 특별한 메세지가 있고 받은 응답 또는 다른 사건들(일정 시간동안 응답이 없는 경우 같은)에 대해 응답할 특별한 행동이 있다는 것에 유의하라.~~매끄럽지 못해 ㅈㅅ~~ 명백하게 주고받는 메세지들 그리고 이 메세지들이 주고 받아지거나 다른 사건들이 발생했을 때 취한 행동들은 인간 프로토콜에서 중요한 역할을 한다. 만약 사람이 다른 프로토콜을 사용한다면(예를 들면, 한 사람은 예의 있는데 한 사람은 그렇지 않을 경우 또는 한 사람은 시간 개념을 이해하는 데 한 사람은 그렇지 않을 경우) 그 프로토콜은 상호운용되지 않으며 쓸모있는 작업이 이뤄질 수 없다. 이는 네트워크에서도 마찬가지다.&mdash; 그것은 작업을 수행하기 위해 같은 프로토콜을 사용하는 두개(또는 이상)의 대화 개체들을 사용한다.

사람과의 두번째 비유를 살펴보자. 지금 당신이 대학 수업중에 있다고 가정해보자.(예를 들면 컴퓨터 네트워크 수업!). 선생은 계속 프로토콜에 대해 웅얼거리고 당신은 혼란스러울 것이다. 선생은 "아무 질문 있나요?"(자지 않는 모든 학생들에게 전달하고 수신되는 메세지) 라고 물어보기 위해 멈춘다. 당신은 손을 든다.(교수에게 보내는 암묵적인 메세지). 당신의 교수는 당신에게 미소와 함께 "그래..."(당신에게 질문을 하도록 격려하도록 전송된 메세지&mdash; 교수들은 질문 받는걸 좋아한다!)라고 말한 뒤 당신은 질문 한다.(교수에게 전달하는 메세지) 당신의 교수는 당신의 질문을 듣고(당신의 질문 메세지를 수신) 답한다.(당신에게 보내는 응답) 다시 한번 우리는 메세지의 송수신과 메세지를 주고 받을 때 취하는 통상적인 행동들이 이 질문-그리고-응답 프로토콜의 핵심임을 보았다. 

#### 네트워크 프로토콜들

대화 메세지 목록들과 취하는 행동들이 어떤 장비(예를 들면, 컴퓨터, 스마트 폰, 태블릿, 라우터 또는 다른 네트워크 장비)의 하드웨어 또는 소프트웨어적인 요소라는걸 제외하고 네트워크 프로토콜은 인간 프로토콜과 유사하다. 둘 이상의 통신 원격 개체들을 포함하는 인터넷의 모든 활동들은 프로토콜에 의해 통제된다. 예를 들면 물리적으로 연결된 두 컴퓨터들에서 하드웨어로 구현된 프로토콜은 두 네트워크 인터페이스 카드들 사이의 "와이어"의 비트 흐름을 제어하고; 종단 시스템들에서 혼잡 제어 프로토콜은 송수신측간 전송되는 패킷들의 속도를 제어하고; 라우터의 프로토콜들은 출발지부터 목적지까지의 패킷 경로를 결정한다. 프로토콜은 인터넷의 모든곳에서 사용되며 결과적으로 이 책의 대부분은 컴퓨터 네트워크 프로토콜에 대한 것이다.

아마 익숙할지도 모르는 컴퓨터 네트워크 프로토콜의 예를 들어보면, 웹 브라우저에서 웹 페이지의 URL을 입력해서 웹 서버에 요청을 만들때 무슨 일이 일어나는지 생각해보자. 시나리오는 다음과 같다.

> 클라이언트 : TCP connection request
> 
> 서버 : TCP connection reply
> 
> 클라이언트 : GET http://google.co.kr
> 
> 서버 : \<file\>

먼저 클라이언트는 연결 요청 메세지를 웹 서버로 전송하고 응답을 기다릴 것이다. 웹 서버는 클라이언트의 연결 요청 메세지를 받게 되고 연결 응답 메세지를 반환할 것이다. 웹 문서를 요청하는게 이제 OK임을 알게 되었고 클라이언트는 GET 메세지에 웹 서버로부터 받고 싶어하는 웹 페이지의 이름을 전송한다. 마지막으로 웹 서버는 클라이언트에 웹 페이지(파일)을 반환 한다.

위에서 본 사람과 네트워크 예를 고려해 볼 때, 메세지 교환과 메세지를 주고받을때 취하는 행동들은 프로토콜의 요소를 정의하는 핵심이다:

<center>**프로토콜** 은 메세지를 주고받을 때 취하는 행동 또는 다른 사건 뿐만 아니라 둘 이상의 통신 개체 사이에서 교환하는 메세지들의 형식과 순서를 정의 한다.
</center>

인터넷, 그리고 일반적으로 컴퓨터 네트워크는 아주 많은 프로토콜을 사용한다. 각기 다른 프로토콜들은 각기 다른 통신 작업들을 수행하기 위해 사용된다. 이 책을 읽으면서, 어떤 프로토콜들은 간단하고 직관적인 반면 다른것들은 복잡하고 어렵다는 것을 배우게 될 것이다. 컴퓨터 네트워크 분야를 마스터한다는 것은 네트워크 프로토콜이 무엇이고 왜 쓰는지 어떻게 돌아가는지를 이해하는것과 동일 하다.

## 네트워크 주변

이전 절에서 인터넷과 네트워크 프로토콜의 하이레벨 개요를 살펴 봤다. 이제 컴퓨터 네트워크 요소들을 조금 더 깊게 알아볼 것이다. 이 절은 네트워크 주변부터 시작해서 우리가 가장 익숙한&mdash;즉, 컴퓨터, 스마트폰, 그리고 우리가 늘 사용하는 다른 장치들&mdash;같은 요소들을 볼 것이다. 다음 절에서는 네트워크 주변에서 네트워크 코어로 이동하고 컴퓨터 네트워크의 스위칭과 라우팅에 대해 살펴볼 것이다. 이전 절에서 나온 컴퓨터 네트워크 용어를 떠올려 보자. 인터넷에 연결된 컴퓨터들과 다른 장치들은 종종 종단 시스템으로 나타내진다. 왜냐하면 그것들이 인터넷의 가장자리에 위치하고 있기 때문이다. 인터넷의 종단 시스템은 데스크탑 컴퓨터(데스크탑 PC, 맥 그리고 리눅스 컴퓨터들), 서버(웹 그리고 이메일 서버) 그리고 모바일 장치(랩탑, 스마트 폰, 그리고 태블릿)들을 포함한다. 게다가, 점점 늘어나는 비전통적인 `물건들`이 종단 시스템으로써 인터넷에 연결되고 있는 중이다.

종단 시스템들은 또한 **호스트들** 로 나타내지는데 왜냐하면 그것들이 웹 브라우저 프로그램, 웹 서버 프로그램, 이메일 클라이언트 프로그램 같은 애플리케이션 프로그램들을 관리하기 때문이다. 이 책 내내 호스트와 종단 시스템을 섞어가며 사용할 것이다. 다시 말해, 호스트 == 종단 시스템이란 것이다. 호스트는 가끔씩 더 나가서 두 범주로 나뉜다: **클라이언트** 와 **서버** . 비공식적으로, 클라이언트는 데스크탑과 모바일 PC, 스마트 폰 등등인 경향이 있고 서버는 웹 페이지를 저장하고 배포하거나 비디오 스트리밍, 이메일 중계 등등을 하는 더 강력한 기계인 경향이 있다. 오늘날 우리에게 검색 결과, 이메일, 웹 페이지 그리고 비디오를 제공하는 대부분의 서버들은 큰 **데이터 센터** 에 위치한다. 예를 들면 구글은 각각 100,000개 이상의 서버를 가지는 약 15개의 큰 센터를 포함하여 50-100개의 데이터 센터를 가지고 있다. 

### 액세스 네트워크

"네트워크 주변"의 애플리케이션과 종단 시스템들을 살펴보는걸 마치고 이제 다음으로 액세스 네트워크를 살펴보자. &mdash; 종단 시스템을 그것 으로부터 떨어진 아무 다른 종단 시스템까지의 경로 사이의 첫번째 라우터로 물리적으로 연결하는 네트워크.

#### 가내 접근: DSL, Cable, FTTH, Dial-up 그리고 위성

2014년 현재 80 퍼센트 이상의 가정이 고속 광대역 연결을 통해 인터넷을 사용하는 한국, 네덜란드, 핀란드 그리고 스웨덴 선진국들과 함께 78 퍼센트 이상의 가정에서 인터넷을 사용한다. 이렇게 널리 사용되는 가내 액세스 네트워크를 고려해했을 때 액세스 네트워크의 개요를 어떻게 집에서 인터넷까지 연결되어 있는지 살펴보는 것으로 시작해보자. 

오늘날, 가장 널리 퍼져있는 광대역 residential 접근의 두 유형은 **Digital subscriber line(DSL)** 그리고 케이블이다. 거주자는 일반적으로 유선 지방 전화 접근을 제공하는 지방 전화 회사로부터 DSL 인터넷 접근을 받는다. 따라서 DSL이 사용될 때, 사용자의 전화 회사는 또한 사용자의 ISP가 된다. 각 사용자들의 DSL 모뎀은 전화 회사의 central office(CO)에 위치한 digital subscriber line access multiplexer(DSLAM)과 함께 데이터를 교확하기 위해 기존의 전화선(1.2.2절에서 다룰 꼬인 구리선)을 사용한다. 가내 DSL 모뎀은 디지털 데이터를 받고 전화선을 거쳐 CO로 전송하기 위해 그것을 고주파 신호음으로 변환한다. 집과 같은 많은 곳에서 온 아날로그 신호들은 DSLAM에서 다시 디지털 형식으로 변환된다.

residential 전화선은 각기 다른 주파수로 인코딩 된 데이터와 기존의 전화 신호를 둘 다 동시에 실어나른다:

  - 고속 다운로드 채널, 50kHz ~ 1MHz 대역
  - 중간 속도 업로드 채널, 4kHz ~ 50kHz 대역
  - 일반적인 양방향 전화 채널, 0 ~ 4kHz 대역

이러한 접근법은 단일 DSL 회선으로 하여금 마치 그곳에 3개의 독립된 회선이 있는 것처럼 보이게 해서 동시에 전화연결과 인터넷 접속이 DSL 회선을 공유할 수 있게 만든다. (1.3.1절에서 이러한 주파수 분할 멀티플렉싱 기법을 살펴볼 것이다.) 사용자 측에선, splitter가 집에 도착한 데이터와 전화 신호를 분리한 뒤 DSL 모뎀에 데이터 신호를 전송한다. 전화회사 측에선, CO에서, DSLAM이 데이터와 전화 신호를 분리하고 인터넷에 제이터를 전송한다. 수백 심지어 수천개의 가정이 하나의 DSLAM에 연결된다. DSL 표준은 12Mbps 다운로드 와 1.8Mbps 업로드, 그리고 55Mbps 다운로드와 15Mbps 업로드를 호함하여 다양한 전송 속도를 정의했다. 다운로드와 업로드 속도가 다르기 때문에 이러한 방법은 비대칭적이라고도 불린다. tiered 서비스가 제공될 때, DSL 제공자는 의도적으로 residential 속도를 제한할 수 있기에 실제 다운로드와 업로드 속도는 위에 나온 것보다 적게 나올 수 있다. 최대 속도는 또한 집과 CO 사이의 거리, 꼬임쌍선의 치수, 전기적 간섭의 정도에 따라 제한될 수 있다. 엔지니어들은 분명히 DSL을 집과 CO 사이의 짧은 거리를 위해 설계하였다. 일반적으로 거주자가 CO로부터 5~10마일 이내에 있지 않으면 인터넷에 접속하기 위해 다른 방안을 찾아야만 한다.

DSL이 기존의 전화 회사 인프라를 사용한다면, **cable Internet access** 는 기존의 유선 텔레비전 회사 인프라를 사용한다. 주택은 유선 텔레비전을 제공하는 회사로부터 유선 인터넷 접근을 제공 받는다. 광섬유는 cable head end와 neighborhood-level junction들을 연결한다. 그다음 거기서부터 기존의 동축 케이블이 각각의 집과 아파트들에 도달하기 위해 사용된다. 각 neighborhood-junction들은 일반적으로 500에서 5000개의 가구들을 지원한다. 이 시스템에서 광섬유와 동축케이블이 둘 다 사용되기 때문에, 종종 hybirid fiber coax(HFC)라고도 나타내진다. 

유선 인터넷 접근은 유선 모뎀이라는 특별한 모뎀을 필요로 한다. DSL 모뎀에서처럼, 유선 모뎀은 일반적으로 외부 장치고 이더넷 포트를 거쳐 가정 PC에 연결된다. (6장에서 이더넷에 대해 아주 자세하게 다룰것이다.) cable head end에서, cable modem termination system(CMTS)은 DSL 네트워크의 DSLAM과 유사한 기능을 수행한다.&mdash; 다운로드하는 많은 가정의 유선 모뎀에서 보내진 아날로그 신호를 다시 디지털 형태로 복구한다. 유선 모뎀은 HFC 네트워크를 다운로드와 업로드 두 채널로 나눈다. DSL처럼 접근은 일반적으로 다운로드 채널이 일반적으로 업로드 채널보다 더 높은 전송 속도를 차지하는 비대칭적이다. DOCSIS 2.0 표준은 다운로드 속도를 최대 42.8Mbps 업로드 속도를 최대 30.7Mbps로 정의했다. DSL 네트워크의 경우처럼, 최대로 나올 수 있는 속도는 낮게 계약된 데이터 속도 또는 매개체 장애로 인해 실현될 수 없을 것이다.

유선 인터넷 접근의 중요한 특성 중 하나는 전파 매체(broadcast media)를 공유한다는 것이다. 특히, 다운로드 시, head end로부터 전송된 모든 패킷들은 모든 가정에 모든 회선으로 전달되고 업로드 시, 가정에서 전송된 모든 패킷들은 headend로 전달 된다. 이러한 연유로 몇몇 사용자들이 동시에 동영상을 다운 받을 때, 각 사용자가 받는 동영상 파일의 속도는 회선의 다운로드 속도 총합보다 확연히 느릴 것이다. 반면에, 오직 몇몇 사용자들만이 있고 그들이 모두 웹 서핑을 한다면, 사용자들이 정확히 동시에 웹 페이지를 요청하기란 드문 일이므로 최대 유선 다운로드 속도로 웹 페이지들을 받을 수 있을 것이다. 업로드 채널 역시 공유되기 때문에, 분산 다중 접근 프로토콜은 전송을 조정하고 충돌을 피하기 위해 필요하다.(6장에서 충돌 문제에 대해 좀 자세히 살펴볼 것이다.)

비록 DSL과 유선 네트워크가 현재 미국의 residential 광대역 접근 중 85퍼센트 이상을 차지하지만, 이보다 더 높은 속도를 제공하는 전도유망한 기술은 **fiber-to-the-home(FTTH)** 이다. 이름이 암시하듯이, FTTH 개념은 간단하다.&mdash; CO에서 가정까지 직접적으로 광섬유 경로를 제공하는 것. 오늘날 많은 국가들&mdash;아랍 에미리트, 남한, 홍콩, 일본, 싱가포르, 타이완, 리투아니아 그리고 스웨덴을 포함하여&mdash;은 이제 가정 보급률이 30%를 넘었다.

CO에서 가정까지 광섬유를 분배하는 몇몇 경쟁 기술들이 있다. 가장 간단한 광분배 네트워크는 CO에서 나온 하나의 섬유가 각 가정까지 연결된, direct fiber라고 불린다. 더 일반적으로는, CO에서 나온 각 섬유가 실제로 많은 가정에 의해 공유된다. 섬유가 가정에 상대적으로 가까워지기 전까지는 개별 사용자-전용 섬유로 분리되지 않는다. 이러한 분리를 수행하는 두 광분배 네트워크 구조가 경쟁중이다: active optical networks(AONs) 와 passive optical networks(PONs). AON은 본질적으로 챕처 6에서 소개할 switched 이더넷이다.

여기선 간략하게 Verizon의 FIOS 서비스에서 사용되는 PON에 대해 알아본다. 각 가정은 neighborhood splitter까지 전용 광섬유로 연결되는 optical network terminator(ONT)를 가진다. splitter는 여러 가정(보통 100가구 미만)을 전화회사 CO의 optical line terminator까지 연결하는 하나의 공유 광섬유로 통합한다.