---
layout: "post"
title: "What's an nginx"
date: "2018-03-04 22:07"
category: [Web]
---

nginx는 일단 engin-x 라고 읽는다. 먼저 공식 홈페이지 글을 번역해보면 

NGINX Home
---

**NGINX**는 웹 서버, 리버스 프록시, 캐싱, 로드 밸런싱, 미디어 스트리밍 등을 위한 오픈 소스 소프트웨어이다. 최대한의 성능과 안정성을 위해 설계된 웹 서버로 시작했으며 HTTP 서버 기능뿐만 아니라 NGINX는 이메일을 위한 프록시 서버 그리고 리버스 프록시 그리고 HTTP, TCP, UDP 서버들을 위한 로드밸런서의 기능도 수행할 수 있다.

# 배경

Igor Susoev는 원래 1999년에 기존의 서버들이 **10K**개 이상의 동시 접속(__C__onnection)을 처리하는 어려움을 겪는 상황에서 **C10K 문제**라 명명한 문제를 해결하기 위해 NGINX를 만들었다. NGINX의 이벤트 기반, 비동기식 구조덕에 NGINX는 서버가 어떻게 **고성능 Context**에서 작동할 수 있는지 크게 바꾸어 놓았고 세상에서 가장 빠른 웹 서버가 되었다.

2004년에 오픈 소스 프로젝트 이후에 NGINX의 사용량이 급격하게 증가하는 것을 보며, Sysoev는 NGINX 주식회사를 공동창업 하여 NGINX의 후속 개발을 지원하고 기업 소비자들을 위해 만들어진 추가적인 기능과 함께 상업 제품인 **NGINX PLUS**를 시장에 내놓았다. 오늘날, NGINX와 NGINX Plus는 수십만의 동시 접속을 지원할 수 있고 웹에서 가장 활발한 사이트들의 50% 이상을 맡고 있다.

# 웹 서버로써의 NGINX

NGINX 뒤의 목표는 가장 빠른 웹 서버를 만드는 것이었고 주된 목표는 최고의 자리를 유지하는 것이였다. NGINX는 꾸준히 Apache와 다른 서버들과 비교하여 **웹 서버 성능 측정 벤치마킹**에서 늘 이기고 있다. 하지만 NGINX의 첫번째 버전이 나온 이후에 웹사이트들은 간단한 HTML 페이지에서 동적이고, 다면적인 컨텐츠로 확장해나가고 있다. NGINX는 그것들과 함께 성장해 왔고 지금은 현대 Web이 포함하고 있는 웹소켓, HTTP2 그리고 여러 비디오 포맷들의 스트리밍(HDS, HLS, RTMP, 기타) 요소들을 지원한다. 

# 웹 서버 이상의 NGINX

NGNIX가 가장 빠른 웹서버로 유명해 졌음에도 불구하고 확장 가능한 구조가 컨텐츠를 제공하는 많은 웹 작업들에 이상적이라는게 증명되었다. 그것이 많은 양의 접속 처리가 가능하기에 NGINX는 일반적으로 리버스 프록시와 로드 밸런서로 사용되어 들어오는 트래픽을 관리하고 더 느린 상위 서버들을 분산처리하는데 사용 되어진다. 

NGINX는 또한 종종 클라이언트와 두번째 웹 서버 사이에 위치하여 SSL/TLS 종단자 또는 웹 엑셀러레이터의 역할을 수행한다. 중간자로써, NGINX는 SSL/TLS 연결 또는 성능 향상을 위한 컨텐츠 압축 및 캐싱등과 같은 자칫 웹 서버를 느리게 만들수 있는 작업들을 효율적으로 처리한다. Node.js에서 PHP까지 아무것이나 사용하여 제작한 동적 사이트들은 일반적으로 NGINX를 배치하여 컨텐츠 캐싱 및 리버스 프록시를 통해 애플리케이션 서버의 부하를 줄이고 하드웨어를 더 효율적으로 사용할 수 있게 만든다.

# NGINX와 NGINX Plus가 우리에게 뭘 해줄수 있는가?

NGINX와 NGINX Plus는 최고의 웹서버이자 Dropbox, Netflix, Zynga와 같은 대용량 트래픽 웹사이트들에서 사용되는 애플리케이션 전송 솔루션이다. 가장 사용량이 많은 웹사이트 100,000개를 포함하여 전세계 3억 6700만개 이상의 사이트들 이상에서 NGINX Plus와 NGINX에 의존하여 그들의 컨텐츠를 빠르고, 안정적이고 안전하게 전송하고 있다.

  - NGINX는 하드웨어 로드 밸런서를 대체할 수 있다. 소프트웨어용 오픈 소스 로드 밸런서로써, NGINX는 덜 비싸고 더 세부적인 설정이 가능하며 현대적인 클라우드 아키텍처를 위해 설계되었다. NGINX Plus는 즉각적인 재설정을 지원하며 더쉬운 모니터링을 위해 현대 DevOps 도구들을 통합하였다.
  - NGINX는 다양한 기능을 가진 도구이다. NGINX를 통해 로드 밸런서, 리버스 프록시, 컨텐츠 캐시 그리고 웹서버를 같은 도구로 사용하여 유지 보수 해야 하는 도구와 설정들을 줄일 수 있다.
  - NGINX는 꾸준히 진화중이다. 지난 10년간 NGINX는 현대 웹 개발의 최전선에 있었으며 HTTP/2에서 마이크로서비스들을 지원하기까지 모든것들을 이끄는데 도움이 되어왔다. 웹 애플리케이션의 개발과 전송이 계속 진화를 하면서 NGINX Plus도 최근 공개된 자바스크립트를 통해 NGINX 커스터마이즈의 구현을 사용한 설정 지원부터 다이나믹 모듈을 지원하기 까지 부족한것 없는 애플리케이션 전송을 위해 꾸준히 기능들을 추가하고 있다. NGINX Plus를 사용하여 웹 성능의 최첨단을 제공할 것을 보장한다.

---

이야, NGINX의 공식 홈페이지 글만 보면 NGINX를 안 쓸 이유가 없어 보인다. 사실 난 지금껏 웹의 워 까지 아니 우 나 으 까지 밖에 모르는 문외한이다. 그래서 좀 더 객관적인 시점에서 NGINX에 대해 알아보고자 위키도 번역해보았다.

Wikipedia
---

# Nginx

Nginx(/ˌɛndʒɪnˈɛks/ EN-jin-EKS)(NGINX, NGiIIX 또는 nginx로 양식화 됨)는 리버스 프록시, 로드 밸런서 그리고 HTTP 캐시로도 사용되는 웹 서버이다. Igor Sysoev에 의해 만들어졌으며 2004년에 처음 공개되었다. 그리고 같은 이름의 회사가 지원을 제공하기 위해 2011년에 만들어졌다.

Nginx는 무료 및 BSD-like 라이센스를 가진 오픈 소스 소프웨어이다. 많은 웹 서버들이 NGINX를 사용하고 있으며 종종 로드 밸런서로도 사용중이다.

# 기능들

Nginx는 스크립트, WSGI 애플리케이션 서버 또는 Phusion Passenger 모듈을 위한 FastCGI, SCGI 핸들러들을 사용하는 네트워크에서 동적 HTTP 컨텐츠를 전달하기 위해 배치될 수 있다. 그리고 소프트웨어 로드 밸런서로도 사용될 수 있다.

Nginx는 요청을 처리하기 위해 비동기, 이벤트 기반 접근방법을 사용한다. Nginx의 모듈러 이벤트 기반 구조는 높은 부하에서 더 예측 가능한 성능을 제공해준다.

Netcraft의 2016 웹 서버 설문조사에 따르면, Nginx는 모든 응답 사이트들과 가장 활발한 백만개의 사이트들 중에서 두 번째로 가장 많이 사용되는 웹 서버이다. W3Techs에 따르면 상위 백만 사이트의 37.7%를 맡고 있고 십만 사이트의 49.7% 그리고 상위 만개의 웹사이트들의 57%를 맡고 있다. Wikipedia는 Nginx를 SSL 종단 프록시로 사용하고 있으며 현재 OpenBSD 5.2버전이 나오고, Nginx는 교체할 Apache 1.3의 시스템 포크에 대한 대안을 제공하는 OpenBSD 기반 시스템의 일부가 되었다. 하지만 그것은 OpenBSD의 httpd에 의해 나중에 교체되었다.

## HTTP 프록시 및 웹 서버 기능
- 적은 메모리로 10,000개 이상의 동시 접속을 처리할 수 있는 능력(10k개의 비활성화된 HTTP keep-alive 연결당 ~2.5MB)
- 정적 파일, 인덱스 파일 처리, 그리고 자동 인덱싱
- 캐싱을 사용한 리버스 프록시
- 대역내 헬스체크를 사용한 로드 밸런싱
- OpenSSL을 통한 TLS/SSL과 SNI 그리고 OCSP stapling 지원
- 캐싱을 사용한 FastCGI, SCGI, uWSGI 지원
- 이름- 그리고 IP 주소 기반 가상 서버들
- IPv6 호환성
- 웹 소켓 및 HTTP/1.1 업그레이드 (101 스위칭 프로토콜)

## 메일 프록시 기능
- TLS/SSL 지원
- STARTTLS 지원
- SMTP, POP3 그리고 IMAP 프록시 지원
- 외부 HTTP 서버를 사용한 인증

---

흠... 일단은 Django가 단순히 Web application framework므로 실제 production에 deploy할 때는 수많은 접속을 처리하기 어려우니 Apache와 Nginx같은 Web server를 앞에 두는 것 같다라는 정도로만 이해 해야겠다.